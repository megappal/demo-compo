<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0" />
  <title>PRODUCTION MEGAPPAL PROJECT</title>
  <style>
    :root { --accent: #16f2a0; --bg-card: #191a1f; }
    body {
      background: #15141a; color: #eee; font-family: 'Montserrat', Arial, sans-serif;
      margin: 0; min-height: 100vh; padding: 0; box-sizing: border-box; overflow-x: hidden;
    }
    
    #progress-container { position: fixed; top: 0; left: 0; width: 100%; height: 8px; background: #262636; z-index: 2000; }
    #progress-bar { width: 8.33%; height: 100%; background: var(--accent); transition: width 0.3s ease; box-shadow: 0 0 12px var(--accent); }

    .main-card {
      max-width: 1050px; width: 95%; margin: 60px auto 20px auto;
      border-radius: 16px; background: var(--bg-card); box-shadow: 0 4px 32px #000a;
      padding: 32px; display: flex; align-items: flex-start; gap: 40px;
      position: relative; box-sizing: border-box; min-height: 500px;
    }
    .side-left { flex: 0 0 270px; display: flex; justify-content: center; }
    .side-left img { width: 270px; height: auto; border-radius: 10px; box-shadow: 0 2px 14px #0008; background: #23232b; }
    .side-right { flex: 1; min-width: 0; display: flex; flex-direction: column; padding-right: 60px; }
    
    .song-title { color: var(--accent); font-size: 1.8em; font-weight: bold; margin-bottom: 12px; line-height: 1.2; }
    .song-desc { color: #ccc; margin-bottom: 16px; font-size: 1em; }
    .fiche { background: #23232b; border-radius: 14px; padding: 17px 23px; color: #eee; margin-top: 18px; line-height: 1.5; font-size: 0.95em; }
    .fiche .lead { color: var(--accent); font-weight: bold; margin-bottom: 9px; display: block; }

    .arrow-btn {
      position: absolute; top: 50%; transform: translateY(-50%);
      background: #262636; color: #27ffd6; border: none; border-radius: 50%;
      width: 100px; height: 100px; font-size: 4em; display: flex; align-items: center; justify-content: center;
      cursor: pointer; z-index: 100; outline: none;
    }
    .arrow-btn::after { content: ""; position: absolute; top: -8px; left: -8px; right: -8px; bottom: -8px; border: 3px solid #27ffd6; border-radius: 50%; }
    .arrow-btn.left { left: -50px; display: none; }
    .arrow-btn.right { right: -50px; }

    .audio-controls { position: absolute; top: 20px; right: 20px; z-index: 110; }
    .mute-btn { background: #23232b; border: 2px solid #27ffd6; color: #27ffd6; border-radius: 50%; width: 60px; height: 60px; font-size: 2em; cursor: pointer; display: flex; align-items: center; justify-content: center; }

    .cta-container { display: flex; gap: 25px; text-align: left; margin-top: 15px; }
    .cta-col { flex: 1; }
    .cta-col h3 { color: var(--accent); margin: 0 0 12px 0; font-size: 1.1em; }
    .cta-list { list-style: none; padding: 0; margin: 0; font-size: 0.95em; line-height: 1.4; }
    .cta-list li { margin-bottom: 12px; position: relative; padding-left: 20px; }
    .cta-list li::before { content: "‚òÖ"; position: absolute; left: 0; color: var(--accent); }
    .cta-ol { padding-left: 20px; margin: 0; font-size: 0.95em; line-height: 1.4; }
    .cta-ol li { margin-bottom: 8px; }
    .cta-green-box { margin-top: 25px; padding: 25px; background: var(--accent); border-radius: 12px; text-align: center; color: #191a1f; }
    
    .cta-btn-main { 
        background: #23232b; color: #fff; padding: 20px 25px; border-radius: 12px; 
        font-weight: 900; font-size: 1.5em; display: block; margin: 25px auto; text-decoration: none; 
        line-height: 1.3; max-width: 480px; text-align: center; cursor: pointer;
    }
    .cta-footer-note { display: block; margin-top: 10px; font-size: 0.95em; font-weight: 600; line-height: 1.3; }

    .footer { text-align: center; color: #aaa; padding: 40px 0; font-weight: 600; }

    @media (max-width: 900px) {
      .main-card { flex-direction: column; align-items: center; padding: 40px 20px; margin-top: 40px; }
      .side-left { width: 100%; margin-bottom: 20px; }
      .side-left img { max-width: 250px; }
      .side-right { width: 100%; padding-right: 0; text-align: center; }
      .arrow-btn { width: 75px; height: 75px; font-size: 2.8em; top: 165px; transform: none; }
      .arrow-btn.left { left: 5px; }
      .arrow-btn.right { right: 5px; }
      .cta-container { flex-direction: column; }
      .cta-btn-main { font-size: 1.2em; width: 100%; }
      .fiche { text-align: left; }
    }
  </style>
</head>
<body>

  <div id="progress-container"><div id="progress-bar"></div></div>

  <div class="main-card">
    <button id="btnPrev" class="arrow-btn left" onclick="window.nav(-1)">&lt;</button>
    <button id="btnNext" class="arrow-btn right" onclick="window.nav(1)">&gt;</button>
    
    <div id="uiAudio" class="audio-controls" style="display:none;">
      <button id="btnMute" class="mute-btn" onclick="window.toggleMute()">üîä</button>
    </div>

    <div class="side-left">
      <img id="elImg" src="studio-photo.jpg" alt="Cover">
    </div>

    <div class="side-right">
      <div id="elTitle" class="song-title">Ici, la musique commence par une histoire.</div>
      <div id="elDesc" class="song-desc">Chaque chanson est compos√©e sur mesure par <b>Megappal Project</b>, √† partir de d√©tails bien r√©els : une personne, un lien, un moment important.</div>
      <div id="elFiche">
        <div class="fiche">
          Ce que vous allez entendre ne sont pas des chansons "g√©n√©riques", mais des cr√©ations uniques, pens√©es pour toucher quelqu'un de pr√©cis.<br><br>
          üéß <b>Conseil : utilisez vos √©couteurs pour une meilleure immersion.</b><br><br>
          üëâ <b>Appuyez sur la fl√®che pour explorer nos d√©mos</b>
        </div>
      </div>
    </div>
  </div>

  <div class="footer">Une production de Megappal Project<br />D√©mos priv√©es ‚Äî acc√®s sur invitation</div>

  <script>
    const demos = [
      {
        t: "Ici, la musique commence par une histoire.",
        d: "Chaque chanson est compos√©e sur mesure par <b>Megappal Project</b>, √† partir de d√©tails bien r√©els : une personne, un lien, un moment important.",
        i: "studio-photo.jpg", s: null,
        f: '<div class="fiche">Ce que vous allez entendre ne sont pas des chansons "g√©n√©riques", mais des cr√©ations uniques, pens√©es pour toucher quelqu\'un de pr√©cis.<br><br>üéß <b>Conseil : utilisez vos √©couteurs pour une meilleure immersion.</b><br><br>üëâ <b>Appuyez sur la fl√®che pour explorer nos d√©mos</b></div>'
      },
      {
        t: "Rayon de Soleil pour Julie",
        d: "D√©mo personnalis√©e en fran√ßais pour Julie.",
        i: "0001-Rayon de Soleil (pour Julie).jpg", s: "0001-Rayon de Soleil (pour Julie).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> Julie Tremblay<br><b>√Çge c√©l√©br√© :</b> 30 ans<br><b>Sexe :</b> F√©minin<br><b>Relation :</b> S≈ìur<br><b>Command√© par :</b> Marie Tremblay<br><b>√âv√©nement :</b> 30e anniversaire surprise<br><b>Style musical :</b> Pop acoustique<br><b>Ambiance :</b> √âmotive et joyeuse<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Adore les voyages, le vin rouge, et son chat L√©o. Vit √† Qu√©bec.<br><b>Message sp√©cial :</b> ‚ÄúNe change jamais, tu es notre rayon de soleil.‚Äù</div>'
      },
      {
        t: "Le Roi du BBQ (pour Sam)",
        d: "Hommage BBQ pour Sam.",
        i: "0002-Le Roi du BBQ (pour Sam).jpg", s: "0002-Le Roi du BBQ (pour Sam).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> Samuel Dub√©<br><b>√Çge c√©l√©br√© :</b> 25 ans<br><b>Sexe :</b> Masculin<br><b>Relation :</b> Meilleur ami<br><b>Command√© par :</b> Alex Gagnon<br><b>√âv√©nement :</b> Party entre amis au chalet<br><b>Style musical :</b> Pop-rock<br><b>Ambiance :</b> Dr√¥le et festive<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Toujours en retard, passionn√© de p√™che et de bi√®res artisanales.<br><b>Message sp√©cial :</b> ‚ÄúT‚Äôes le roi du BBQ, m√™me en hiver.‚Äù</div>'
      },
      {
        t: "Mon Roc, Mon Aventure (pour Marc-Andr√©)",
        d: "D√©mo d√©di√©e √† Marc-Andr√©.",
        i: "0003-Mon Roc, Mon Aventure (pour Marc-Andr√©).jpg", s: "0003-Mon Roc, Mon Aventure (pour Marc-Andr√©).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> Marc-Andr√© Lavoie<br><b>√Çge c√©l√©br√© :</b> 40 ans<br><b>Sexe :</b> Masculin<br><b>Relation :</b> Conjoint<br><b>Command√© par :</b> Sophie Lavoie<br><b>√âv√©nement :</b> Souper romantique 40e anniversaire<br><b>Style musical :</b> Ballade pop<br><b>Ambiance :</b> Romantique et tendre<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Amoureux de la nature, bricoleur, p√®re de deux enfants (√âli et Ma√©).<br><b>Message sp√©cial :</b> ‚ÄúTu restes mon roc, mon amour, mon aventure.‚Äù</div>'
      },
      {
        t: "50 Ans de L√©gende (pour Pat)",
        d: "D√©mo anniversaire pour Pat.",
        i: "0004-50 Ans de L√©gende (pour Pat).jpg", s: "0004-50 Ans de L√©gende (pour Pat).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> Patrick ‚ÄúPat‚Äù Lemieux<br><b>√Çge c√©l√©br√© :</b> 50 ans<br><b>Sexe :</b> Masculin<br><b>Relation :</b> Collegue de travail<br><b>Command√© par :</b> Kevin Morin<br><b>√âv√©nement :</b> Party de bureau pour ses 50 ans<br><b>Style musical :</b> Rock‚Äôn‚Äôroll classique<br><b>Ambiance :</b> Festive<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Toujours la blague facile, fan d‚ÄôElvis et de motos Harley.<br><b>Message sp√©cial :</b> ‚Äú50 ans de l√©gende, et toujours aussi jeune dans sa t√™te !‚Äù</div>'
      },
      {
        t: "R√™ve Grand, Ma Petite √âtoile (pour Zo√©)",
        d: "D√©mo magique pour Zo√©.",
        i: "0005-R√™ve Grand, Ma Petite √âtoile (pour Zo√©).jpg", s: "0005-R√™ve Grand, Ma Petite √âtoile (pour Zo√©).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> Zo√© Fortin<br><b>√Çge c√©l√©br√© :</b> 10 ans<br><b>Sexe :</b> F√©minin<br><b>Relation :</b> Maman<br><b>Command√© par :</b> √âlise Fortin<br><b>√âv√©nement :</b> F√™te d‚Äôenfant √† la maison<br><b>Style musical :</b> Pop joyeux (style Disney)<br><b>Ambiance :</b> Magique et enfantine<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Aime les licornes, la danse et les cupcakes.<br><b>Message sp√©cial :</b> ‚ÄúR√™ve grand, ma petite √©toile.‚Äù</div>'
      },
      {
        t: "Caf√© & Lundi (pour Annie)",
        d: "Rituel du lundi matin pour Annie.",
        i: "0006-Caf√© & Lundi (pour Annie).jpg", s: "0006-Caf√© & Lundi (pour Annie).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> Annie Bouchard<br><b>√Çge c√©l√©br√© :</b> 35 ans<br><b>Sexe :</b> F√©minin<br><b>Relation :</b> Coll√®gue proche<br><b>Command√© par :</b> David Tremblay<br><b>√âv√©nement :</b> F√™te surprise au bureau<br><b>Style musical :</b> Jazz-swing<br><b>Ambiance :</b> Classe, dr√¥le et l√©g√®re<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Toujours √©l√©gante, adore le caf√© et fait des blagues sarcastiques.<br><b>Message sp√©cial :</b> ‚ÄúAnnie sans caf√©, c‚Äôest comme lundi sans soleil.‚Äù</div>'
      },
      {
        t: "Le Rire des Vagues (pour Jean)",
        d: "Vagues et souvenirs pour Jean.",
        i: "0007-Le Rire des Vagues (pour Jean).jpg", s: "0007-Le Rire des Vagues (pour Jean).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> Jean Leblanc<br><b>√Çge c√©l√©br√© :</b> 60 ans<br><b>Sexe :</b> Masculin<br><b>Relation :</b> Fille<br><b>Command√© par :</b> Caroline Leblanc<br><b>√âv√©nement :</b> F√™te familiale<br><b>Style musical :</b> Folk acoustique<br><b>Ambiance :</b> Nostalgique et chaleureuse<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Ancien marin, aime jouer de la guitare, raconte ses histoires du fleuve.<br><b>Message sp√©cial :</b> ‚ÄúPapa, ton rire fait encore danser les vagues.‚Äù</div>'
      },
      {
        t: "Le Monde Est √† Toi (pour Clara)",
        d: "D√©mo motivation pour Clara.",
        i: "0008-Le Monde Est √† Toi (pour Clara).jpg", s: "0008-Le Monde Est √† Toi (pour Clara).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> Clara C√¥t√©<br><b>√Çge c√©l√©br√© :</b> 18 ans<br><b>Sexe :</b> F√©minin<br><b>Relation :</b> Maman<br><b>Command√© par :</b> Julie Cot√©<br><b>√âv√©nement :</b> 18e anniversaire (f√™te de passage)<br><b>Style musical :</b> Pop √©lectro<br><b>Ambiance :</b> Inspirante et √©nergique<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Ado passionn√©e de photo, d‚Äôastrologie et de voyage.<br><b>Message sp√©cial :</b> ‚ÄúLe monde est √† toi, ma belle lumi√®re.‚Äù</div>'
      },
      {
        t: "Plus Que Les P√¢tes du Monde (pour M√©lanie)",
        d: "D√©mo gourmande pour M√©lanie.",
        i: "0009-Plus Que Les P√¢tes du Monde (pour M√©lanie).jpg", s: "0009-Plus Que Les P√¢tes du Monde (pour M√©lanie).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> M√©lanie Girard<br><b>√Çge c√©l√©br√© :</b> 28 ans<br><b>Sexe :</b> F√©minin<br><b>Relation :</b> Conjointe<br><b>Command√© par :</b> Tommy Beaulieu<br><b>√âv√©nement :</b> F√™te surprise √† la maison<br><b>Style musical :</b> Pop romantique<br><b>Ambiance :</b> Douce et sinc√®re<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Elle adore les couchers de soleil et la cuisine italienne.<br><b>Message sp√©cial :</b> ‚ÄúJe t‚Äôaime plus que toutes les p√¢tes du monde.‚Äù</div>'
      },
      {
        t: "Ma Petite Tornade (pour L√©a)",
        d: "Tornade d‚Äôamour pour L√©a.",
        i: "0010-Ma Petite Tornade (pour lea).jpg", s: "0010-Ma Petite Tornade (pour lea).mp3",
        f: '<div class="fiche"><span class="lead">Exemple de fiche de cr√©ation personnalis√©e</span><b>Personne f√™t√©e :</b> L√©a Dion<br><b>√Çge c√©l√©br√© :</b> 5 ans<br><b>Sexe :</b> F√©minin<br><b>Relation :</b> Papa<br><b>Command√© par :</b> Fr√©d√©ric Dion<br><b>√âv√©nement :</b> F√™te d‚Äôenfant au parc<br><b>Style musical :</b> Pop pour enfants<br><b>Ambiance :</b> Enjou√©e et ludique<br><b>Langue :</b> Fran√ßais<br><b>D√©tails :</b> Aime les arcs-en-ciel, les bulles et les princesses.<br><b>Message sp√©cial :</b> ‚ÄúL√©a, ma petite tornade d‚Äôamour.‚Äù</div>'
      },
      {
        t: "CR√âEZ VOTRE CADEAU ULTIME.",
        d: "La chanson sur mesure, un souvenir qui dure pour toujours.",
        i: "cta-image.jpg", s: "exit-song.mp3", isCTA: true,
        f: `<div class="cta-container">
                <div class="cta-col">
                    <h3>Pourquoi choisir une chanson sur mesure ?</h3>
                    <ul class="cta-list">
                        <li><b>100% Personnalis√© :</b> Votre histoire transform√©e en musique.</li>
                        <li><b>Unicit√© Garantie :</b> Une ≈ìuvre originale compos√©e uniquement pour vous.</li>
                        <li><b>Le Cadeau qui Touche :</b> Une preuve d'amour in√©gal√©e.</li>
                        <li><b>Qualit√© Pro :</b> Production par <b>Megappal Project</b>.</li>
                    </ul>
                </div>
                <div class="cta-col">
                    <h3>Le processus est simple</h3>
                    <ol class="cta-ol">
                        <li><b>Achetez le service :</b> Commandez √† la caisse de cette boutique.</li>
                        <li><b>Remplissez le Formulaire :</b> Donnez-nous les d√©tails cr√©atifs via notre lien.</li>
                        <li><b>R√©ception :</b> Recevez votre fichier MP3 haute qualit√© !</li>
                    </ol>
                </div>
            </div>
            <div class="cta-green-box">
                <h2>NE PARTEZ PAS SANS VOTRE CHANSON !</h2>
                <p>Le service est uniquement disponible via nos marchands partenaires.</p>
                <div class="cta-btn-main">Montrez cet √©cran √† un employ√© pour commander !</div>
                <div class="cta-footer-note">L'employ√© vous guidera pour l'achat et vous remettra un lien vers votre formulaire personnalis√©.</div>
            </div>`
      }
    ];

    let currentIdx = 0;
    let isMuted = false;
    const audios = {};

    // Fonction globale attach√©e √† window pour √™tre accessible partout
    window.nav = function(n) {
      currentIdx += n;
      if (currentIdx < 0) currentIdx = 0;
      if (currentIdx >= demos.length) currentIdx = demos.length - 1;
      updateUI();
    };

    window.toggleMute = function() {
      isMuted = !isMuted;
      document.getElementById('btnMute').textContent = isMuted ? "üîá" : "üîä";
      if (audios[currentIdx]) audios[currentIdx].muted = isMuted;
    };

    function updateUI() {
      const d = demos[currentIdx];
      
      // Stop tous les sons proprement
      Object.values(audios).forEach(a => { a.pause(); a.currentTime = 0; });

      // Barre de progression
      document.getElementById('progress-bar').style.width = ((currentIdx + 1) / demos.length * 100) + '%';

      // Mise √† jour visuelle (D'abord les textes)
      document.getElementById('elTitle').textContent = d.t;
      document.getElementById('elDesc').innerHTML = d.d;
      document.getElementById('elImg').src = d.i;
      document.getElementById('elFiche').innerHTML = d.f;

      // Gestion des fl√®ches
      document.getElementById('btnPrev').style.display = (currentIdx === 0) ? "none" : "flex";
      document.getElementById('btnNext').style.display = (currentIdx === demos.length - 1) ? "none" : "flex";

      // Gestion Audio (En dernier pour ne pas bloquer le reste)
      const uiAudio = document.getElementById('uiAudio');
      if (d.s) {
        uiAudio.style.display = "block";
        if (!audios[currentIdx]) {
            audios[currentIdx] = new Audio(d.s);
            audios[currentIdx].preload = "auto";
        }
        audios[currentIdx].muted = isMuted;
        audios[currentIdx].play().catch(e => console.log("Audio bloqu√© par navigateur"));
      } else {
        uiAudio.style.display = "none";
      }

      // Pr√©chargement de la suite
      if (currentIdx + 1 < demos.length) {
          const next = demos[currentIdx + 1];
          if (next.s && !audios[currentIdx+1]) { 
              audios[currentIdx+1] = new Audio(next.s); 
              audios[currentIdx+1].load(); 
          }
          new Image().src = next.i;
      }
    }

    // Initialisation forc√©e au d√©marrage
    document.addEventListener('DOMContentLoaded', updateUI);
  </script>
</body>
</html>